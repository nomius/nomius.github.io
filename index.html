<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>David's Website</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
        <link href="css/cover.css" rel="stylesheet">
        <link href="css/vim.css" rel="stylesheet">
    </head>

    <body>
        <div class="site-wrapper">
            <div class="site-wrapper-inner">
                <div class="cover-container">
                    <div class="masthead clearfix">
                        <div class="inner">
                            <h3 class="masthead-brand">David's Website</h3>
                            <ul class="nav masthead-nav">
								<li class="active"><a href="index.html">Home</a></li>
<li><a href="about.html">About</a></li>
<li><a href="articles.html">Articles</a></li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown">Projects<span class="caret"></span></a>
<ul class="dropdown-menu" role="menu">
<li><a href="https://github.com/nomius/misctools">misctools</a></li>
<li><a href="https://github.com/nomius/ntunnel">ntunnel</a></li>
<li><a href="https://github.com/nomius/kpkg">kpkg</a></li>
<li><a href="https://github.com/nomius/ktsuss">ktsuss</a></li>
<li><a href="https://github.com/nomius/dmemory">dmemory</a></li>
<li><a href="https://github.com/nomius/nqqueue">nqqueue</a></li>
<li><a href="https://github.com/nomius/mttools">mttools</a></li>
<li><a href="http://www.kworg.org">Kwort</a></li>
</ul></li>
<li><a href="links.html">Links</a></li>

                            </ul>
                        </div>
                    </div>

                    <div class="inner cover">
                        <br>
                        <br><br><br><a id="Links to posts and some other things"><br></a><a href="#Links to posts and some other things"><h3>Links to posts and some other things</h3></a><h6>Posted on: Mar 2015</h6><p>Hi folks, two weeks ago it was requested on github to implement links to posts. Today I implemented this feature with id's.</p>

<p>In the last couple of days I've been playing with gpg (I was always using openssl's enc/dec/sign(dgst) instead). I want to start using a Keyserver, but I want a reliable one outside the US and UK, so MIT's kinda out of the table. Anyone knows any? I'm thinking in <a href="http://keys.connectical.com">http://keys.connectical.com</a>, which looks like be running in France (<em>I don't trust too much in France anyways</em>) as I like what the Connectical guys had created. I'm open to comments and ideas.</p>

<p>Also, I would like to share a really cool site that I've been reading: <a href="http://theoldschooldevops.com">http://theoldschooldevops.com</a>, you guys knows that I like old school stuff :-)</p>

<p>Enjoy!</p>

<hr width="60%">
<br><a id="Old school Unix community"><br></a><a href="#Old school Unix community"><h3>Old school Unix community</h3></a><h6>Posted on: Feb 2015</h6><p>For those who read this weblog and use Ubuntu or any kind of of userbase like that, you can't stop reading here, as this is going to be an "Ubuntu rant" and you'll probably will not like this.</p>

<p>As most of you know, I'm pretty old school Unix programmer I tend to do clean development and have everything done just right. As a developer I sit on top of the Unix interface (when doing userspace development) in order to support as much as possible.</p>

<p>In the last few years we saw Ubuntu coming, in the beginning it was only a remake of Debian with more power on the User interface. What made it so wide used? Well, they made two things really good. The first one was delivering a copy of the Ubuntu CD-ROM to everyone who requested it for free, there were some who requested for docens and distributed it among their friends, I have seen people playing frisbee with it anyways. The second one was thinking more in the users as users and not developers; that was a big hit.</p>

<p>So I guess it was easier to install (I've never installed it) and you could have it for free really quickly if you didn't want to or could't download it, and if not, there's was someone near to you always with a CD-ROM with it.
For a lot of people, that was great as it brought a lot of new users to Linux. But the problem here is that old school users/developers like me don't care about the quantity but about the quality. And unfortunately, the quality of Linux users that Ubuntu brought compared to other distributions was disastrous. Why? Because a user didn't have to worry about learning the OS anymore, but only focusing in using it and unfortunately, for them, there's Ubuntu, not Linux or other distribution, they use Ubuntu and that's the only thing besides Windows/OS-X out there.</p>

<p>Working on Kwort's new aspect for future releases, I have no idea why I got into this "thing" called <a href="http://wiki.go-docky.com/?title=Plank:Introduction">Plank</a>, which looks like a docker for docky (which apparently is a launcher bar). Now, this was developed by "one of those users". Their developers are like "Ubuntu is what we support only" (probably because they think that Ubuntu is the "only" Linux), and let me quote them:</p>

<blockquote>
  <p>Do not report bugs if you are using Gentoo-based, Pacman-based, or Slackware-based distributions - only Ubuntu/OpenSUSE (and their derivatives) and Fedora are currently supported</p>
</blockquote>

<p>Plank developers: I'm never going to use Plank probably, at least not by personal choice; but please, do yourself a favor and learn the system you're developing in. Why restricting the support to what you use only? It looks like you have no idea how Unix works and how to really develop in it (and I'm pretty sure I'm right).</p>

<p>I'm still working on future's Kwort looks, I'll probably write something like that in the next few days, but don't worry folks, we'll still be minimal ;-)</p>

<hr width="60%">
<br><a id="Firefox and its hardware acceleration & Kwort installation"><br></a><a href="#Firefox and its hardware acceleration & Kwort installation"><h3>Firefox and its hardware acceleration & Kwort installation</h3></a><h6>Posted on: Jan 2015</h6><p>Well... So I had this feeling of going back 100% to Firefox and while doing some testing, WebGL is really bad. It looks like the problem is that the hardware acceleration sucks entirely in Firefox.
Hardware acceleration in Firefox is really a hell, even with OMTC I couldn't get more than 13 FPS, while on Chromium I get at least 60FPS using a <a href="https://developer.mozilla.org/media/uploads/demos/p/a/paulrouget/8bfba7f0b6c62d877a2b82dd5e10931e/hacksmozillaorg-achi_1334270447_demo_package/HWACCEL/">Firefox acceleration stress test</a></p>

<p>I've tried with an ATI R600 card, an Intel HD 4600, a Nvidia GT-740M all of them with the latest drivers that perform just great on other applications (glxsphere, chromium, etc...), I never got a decent performance, and this is the latest version of Firefox (35.0). So I guess I should just give up.
So probably on 4.2 Firefox will not be included in the ISO and only Chromium, we'll see what happens.</p>

<p>On other news, I've discovered several failures on the Kwort installer, and I appologize for that. I guess I should try to be "less-mainstream" and more hardcore, pretty much like the OpenBSD installation. Andreas was working on a new installer that I think he started some years ago (https://github.com/schipplock/kwort-installer-ng) but I honestly don't know... There's too much to handle nowadays and things have gotten too complicated to support everything "automatically".</p>

<p>For those who wants to know, Kwort's installation can be sumarized in the following list:</p>

<ul>
<li>Keyboard configuration</li>
<li>Partitioning (cfdisk)</li>
<li>SWAP, mountpoints and formating (mkswap, mkfs.* mount in /mnt/install and all mountpoints internally)</li>
<li>Package decompressing (tar + xz + sqlite, which could be all simplified with kpkg)</li>
<li>Post configuration (write: fstab, rc.conf, set root password and install lilo/grub)</li>
</ul>

<p>My future approach would probably be that we could leave most of that to the user, specially with all the fuzz of UEFI, GPT and so on.</p>

<p>Time will tell. :-)</p>

<hr width="60%">
<br><a id="Updates and sharing"><br></a><a href="#Updates and sharing"><h3>Updates and sharing</h3></a><h6>Posted on: Nov 2014</h6><p>Hey all!
Last week (and also today) I made a major upgrade to Kwort 4.1.
This should bring your system to the latest version. So in your system you can just run:</p>

<pre><code>kpkg upgrade
</code></pre>

<p><br>
Also, I would like to share a really cool site for designers: <a href="http://colorschemedesigner.com/csd-3.5/">http://colorschemedesigner.com/csd-3.5/</a></p>

<p>When creating this site I needed a nice palette color and that tool/site really helped me on doing that; so, enjoy it :-)</p>

<p>Anyways, I'll be on PTO tomorrow and probably disconnected (or I'll do my best to stay away of the computer :-D).</p>

<p>Stay cool and have fun!</p>

<hr width="60%">
<br><a id="Finally a real weblog"><br></a><a href="#Finally a real weblog"><h3>Finally a real weblog</h3></a><h6>Posted on: Nov 2014</h6><p>Well, so after years chasing this "dream" (?) I finally I have a good website, self made, beautiful, with the things that I use and without a messy WYSIWYG editor which does what he wants. So as everybody knows, my editor is <a href="http://www.vim.org/">Vim</a>, and I'm using github's markdown as formating syntax to write this whole website.</p>

<p>How I did this? Well, this site is now automatically generated by a 162 lines <a href="https://github.com/nomius/nomius.github.io/blob/master/generator.py">python script</a>. Cool isn't it? :-)</p>

<p>You don't believe me? Take a look at the whole code and website (+content) at: <a href="https://github.com/nomius/nomius.github.io">https://github.com/nomius/nomius.github.io</a>.</p>

<p>This website support links (doh!), it has an automated weblog created, it uses a clean syntax that you really enjoy writing in like markdown, it also support syntax highlight for programming, mobile support (?) as it use bootstrap under the hood and one of the nicest things, it has a really nice design.</p>

<p>If you want to use this code to create your own site, please, go ahead, it's free software.</p>

<p>Also, this is something I did last year, all my projects are now in <a href="http://www.github.com">GitHub</a>, and sure, this site as well is hosted on GitHub pages.
Let me list them and give some explainations:</p>

<ul>
<li><p><a href="https://github.com/nomius/ntunnel">ntunnel</a>: Simple tunnel protocol with RSA keys, signed digests and blowfish cipher using the OpenSSL library and the tuntap device from the Linux kernel and its API.</p></li>
<li><p><a href="https://github.com/nomius/kpkg">kpkg</a>: kpkg is the binary Kwort package manager. It allows you to install, remove and download and upgrade packages. This is one of Kwort's holy grail.</p></li>
<li><p><a href="https://github.com/nomius/misctools">misctools</a>: Interesting miscellaneous scripts (service command for Kwort, a simple virtualization manager, a wireless network manager, a tool to work with certificates, etc...)</p></li>
<li><p><a href="https://github.com/nomius/dmemory">dmemory</a>: Dynamic memory management C library (educative project). This is an *alloc functions' wrapper. the <a href="https://github.com/nomius/dmemory/blob/master/test.c">test file</a> and source code is pretty much self explainatory.</p></li>
<li><p><a href="https://github.com/nomius/nqqueue">nqqueue</a>: NQqueue is a modular, threaded and plugeable queue for Qmail allowing the user to write their own filters for spam, virus, etc. This is one of the coolest projects I have worked on.</p></li>
<li><p><a href="https://github.com/nomius/mttools">mttools</a>: A couple of years back, when I started playing around with text formating languages I came up with some basic tools to use the Troff -ms macros. This is a small project that includes a C and Shell troff parser.</p></li>
<li><p><a href="https://github.com/nomius/nomius.github.io">nomius.github.io</a>: This site and weblog.</p></li>
<li><p><a href="https://github.com/nomius/kwtools">kwtools</a>: Kwort tools is a set of scripts and applications used in Kwort &lt; 2.4.2, including package manager, user and network manager. This code is now really old and unmaintained but it has some really useful gtkdialog code that I used in the <a href="https://github.com/nomius/misctools">misctools</a>.</p></li>
<li><p><a href="http://www.kwort.org">Kwort</a>: Kwort is a modern and fast Linux distribution that combines powerful and useful applications in order to create a simple system for advanced users who finds a strong and effective desktop. Kwort is based on CRUX, so it's robust, clean and easy to extend. Of course, not hosted at github. ;-)</p></li>
</ul>

<hr width="60%">
<br><a id="Updates for everybody!"><br></a><a href="#Updates for everybody!"><h3>Updates for everybody!</h3></a><h6>Posted on: Nov 2011</h6><p>I'm a disaster to write a blog, sorry for the delay.
There have been lot of news in the past few months. Let's enumerate one by one:
I created a small project called mttools, and this is basically a set of tools to write good technical documentation, with formated code inside and some pretty nice features. The nice thing about this tools is that it forced me to learn Unix flex :-)
You can check out this project at: <a href="http://code.google.com/p/mttools">http://code.google.com/p/mttools</a></p>

<p>As some of you might have noted, Kwort 3.2 got released, this is a pretty clean and nice release that got some really nice features and improvements. If you like Kwort &gt; 3, please, step by <a href="http://www.kwort.org">http://www.kwort.org</a>, read the announcement and try it.
There's also some nice new features and bug fixes in kpkg, that were deployed with Kwort 3.2, if you're not using Kwort but you're using kpkg, you should step by <a href="http://code.google.com/p/kpkg">http://code.google.com/p/kpkg</a></p>

<p>One of the cool stuff that came up with Kwort 3.2 are the ports; we are now supporting the crux ports, that you can bring to your system by:</p>

<pre><code>  kpkg install httpup rsync fakeroot rsync ports
</code></pre>

<p>I'll blog a little on the CRUX ports latter on.</p>

<p>Also there's a new release of ktsuss, just baked. This release has some bug fixes in the su backend and guess what... There's a sudo backend now too!
You should get the release at <a href="http://code.google.com/p/ktsuss">http://code.google.com/p/ktsuss</a>.</p>

<p>NOTE: 1.4 code has critical bugs and is completely unmaintained, so please update to the latest release. I also removed all extra repositories like the one at berlios, github, etc, so there's now only one at google code avoiding confussions.</p>

<p>The last few months I worked a little on LimShSQL and there's a full new re-write with a pretty shinny curses interface in limshsql-rewrite-1.0 branch, I think I should merge it soon and package a release. Check it out here: <a href="http://code.google.com/p/limshsql">http://code.google.com/p/limshsql</a></p>

<hr width="60%">
<br><a id="Goodbye lout... Hello troff!"><br></a><a href="#Goodbye lout... Hello troff!"><h3>Goodbye lout... Hello troff!</h3></a><h6>Posted on: Mar 2011</h6><p>Five years ago I went to a dissertation on LaTeX given by Guido Macci, I left that dissertation telling myself "Yes, that's the way to go" and I liked formatting systems, by then I only knew LaTeX, but after seeing that in Slackware it was like 100mb in packages I said like "Ooook, wait a second... Is it that big?", it turned out it really was, and not only big, but a real mess under the hood, so I was kinda disappointed and desisted on the idea of using LaTex. Those who know me knows that I'm pretty minimalist, and having a formatting system of 100mb that was a mess was pretty much out of the table, but I still though it was the way to go.</p>

<p>So I spoke to a friend (Emiliano Gavilan) who always liked that stuff and told my "problem" with LaTeX... So Emiliano recommended me to take a look at lout.</p>

<p>That was in the beginning of 2006, so it's been like 5 years now with lout. Nowadays lout is kinda unmaintained, it has some bugs, the output generated is not as professional as LaTeX, and (I bet this is because I'm too lazy to learn them) there are some things that I never wasn't able to do.</p>

<p>So last week I gave a chance to troff, and I keep myself reading the whole weekend, and I really liked, it's stable, small, well tested (almost 40 years :-D), and it is on every Unix out there (this is a BIG plus). I had some troubles inserting with code, but after digging I found vgrind (which I heard is unmaintained so we'll have to check in the future how it goes) which does
the job pretty good.</p>

<p>There are tons of books out there written with troff some pretty well known like "Advanced Programming in the UNIX Environment", "The C programming Language" or "The Design and Implementation of the 4.4BSD Operating System", there's a big list <a href="http://troff.org/pubs.html">here</a></p>

<p>If you're interested in learning troff, you can read this book: <a href="http://groff.ffii.org/groff/contrib/documentation/utp/utp-1.0.pdf">Dale Dougherty &amp; Tim O'Reilly - Unix Text Processing</a>.</p>

<p>I hope this turns out good.</p>

<p>Cheers.</p>

<hr width="60%">
<br><a id="Something that I was waiting for..."><br></a><a href="#Something that I was waiting for..."><h3>Something that I was waiting for...</h3></a><h6>Posted on: Feb 2011</h6><p>I want to share something with you guys...
Last week (sorry for the delay) I got an email from Jorgen Thomsen telling me that gnu-pop3d was released:</p>

<blockquote>
  <p>Hello
  I just released GNU -pop3d 0.9.13 which is a more stable release than 0.9.12
  <a href="http://jth.net/virtual.html">http://jth.net/virtual.html</a>
  In a short time I will release 0.9.14 which will implement IPv6 support.</p>
</blockquote>

<p>So great, a new gnu-pop3d is available, so I saw the changelog and I saw this:</p>

<blockquote>
  <p>Bugfix: certain login methods did not work (David B. Cortarello)</p>
</blockquote>

<p>Pretty happy about the merging of my patch into mainstream. Thanks Jorgen!</p>

<p>Cheers!</p>

<hr width="60%">
<br><a id="GNU pop3d fix"><br></a><a href="#GNU pop3d fix"><h3>GNU pop3d fix</h3></a><h6>Posted on: Nov 2010</h6><p>Wooooo, kinda a lot without saying something here! Well, I took some sabbatical months of blogging ;-) </p>

<p>Recently I've been working on a mail server, and those who know me, knows that I'm pretty minimalistic. So I started with exim and gnu-pop3d (no imap for this) with stunnel to provide ssl support.
I use Unix users for authentication, but gnu-pop3d had a (pretty small) bug which made it reject any authentication whether it is right or wrong.
So I wrote a patch to provide a fix and sent it to Jorgen Thomsen. He answered me on Wednesday telling me that the patch was accepted.</p>

<p>Anyways, I leave the patch here: <a href="http://nomius.github.io/content/patches/gnu-pop3d-0.9.12-fix_passwd_login.patch">gnu-pop3d-0.9.12-fix<em>passwd</em>login.patch</a></p>

<p>Cheers!</p>

<hr width="60%">
<br><a id="Hidding messages in ICMP packets"><br></a><a href="#Hidding messages in ICMP packets"><h3>Hidding messages in ICMP packets</h3></a><h6>Posted on: Feb 2010</h6><p>Hello everybody. A new month, a new article (I wish I could do this so periodically).</p>

<p>Today I'm going to show you something that I've been playing with. As you probably know (if you don't, I'm just telling you now :-)), the ICMP packets provides an arbitrary data space right after the ICMP header. Normally, no one use it, since ICMP is a control protocol that has all its usage right inside of it, leaving this data space useless.</p>

<p>A few days ago, I saw someone connected on Cinetix and he was just connected, but not on the IRC server and I didn't know who he or she was. So an idea started to flow around my head "What about if I could send messages with ICMP packets".</p>

<p>So actually this is what I did... I wrote a tool to put a message in the data space and send it using the ICMP type 7 which is unassigned (for example, ping is the type 8). The problem is that the kernel just drop type 7 (as we all assume) and the data space is also dropped in any icmp packet. So I wrote a kernel patch that print the message in the output of dmesg or
/var/log/message if you have set KERN_NOTICE to be displayed (I think klogd -c 6 does).</p>

<p>With this, you can send to a friend a message of the kind "Hey. This is David, I'm online on irc (jabber or whatever), jump in!" and it will be displayed in the system logs as a kernel notice.</p>

<p>Please, take note that this is not a chat system, but an "emergency system", so don't start using it as an everyday conversation protocol. This also isn't a patch that should be in the kernel mainstream, since ICMP packets of type 7 is unassigned, and NOT a communication protocol.</p>

<h5>What about security?</h5>

<p>Well, you might start asking yourself this "What if someone from the outside starts flooding my logs with dumb messages?". Right, well, the answer to this is netfilter; use iptables to drop these kind of package. Something like this:</p>

<pre><code>iptables -A INPUT -p icmp --icmp-type 7 -j DROP
</code></pre>

<p>As you might know or guess, you can also block only one IP address or accept from a certain network like this:</p>

<pre><code>iptables -A INPUT -p icmp --icmp-type 7 \! -s 10.0.0.1/24 -j DROP
</code></pre>

<p>Use more complex rules creating policies like "if someone exceed the number of 5 ICMP type 7 packets in a minute, drop any packet from the IP address".</p>

<h5>Enough with the talking... How do I use it?</h5>

<p>Great, right to the point. So the steps:</p>

<ol>
<li>First of all, patch and compile your kernel.</li>
</ol>

<pre><code>cd linux-2.6.31 &amp;&amp; patch -p1 &lt; patch_icmp_type_7_messages.diff
</code></pre>

<p>And compile and install your new kernel using the way you normally do (make config/menuconfig, etc...)</p>

<ol>
<li>Then compile the icmp_send.c program:</li>
</ol>

<pre><code>gcc icmp_send.c -o icmp_send
</code></pre>

<ol>
<li>Send a test message:</li>
</ol>

<pre><code>./icmp_send 127.0.0.1 "Hello world"
</code></pre>

<ol>
<li>Check out the dmesg output:</li>
</ol>

<pre><code>./dmesg | grep "ICMP 7 Message"
</code></pre>

<p>Get it!
Anyways, this is a really nice thing to play with and I hope people find it useful. You can get the kernel patch and the ICMP message program from the links below.</p>

<p><a href="http://nomius.github.io/content/patches/patch_icmp_type_7_messages.diff">patch_icmp_type_7_messages.diff</a></p>

<p><a href="http://nomius.github.io/content/patches/icmp_send.c">icmp_send.c</a></p>

<p>Have fun.</p>

<hr width="60%">

                    </div>

                    <div class="mastfoot">
                        <div class="inner">
                        	<br>
							<table style="width:100%"><tr><td><a href="index1.html">Previous posts</a></td><td align="right"></td></tr></table><br>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    </body>
</html>
